# render.yaml - UPDATED
version: "1"

services:
  - type: web
    name: pensacormed
    env: python
    region: oregon
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: python run.py
    healthCheckPath: /health
    
    # Environment variables
    envVars:
      - key: RENDER
        value: "true"
      - key: FLASK_ENV
        value: "production"
      - key: CREATE_ADMIN
        value: "true"
      - key: DATABASE_URL
        value: "postgresql://pensaconnect_db_3zjo_user:VZcXyZFcRVTXBZuW3x4HDfcl3XQAlqvs@dpg-d4rbr37gi27c73aknms0-a.oregon-postgres.render.com/pensaconnect_db_3zjo"
    
    # OPTIONAL: If you want Render to manage the connection
    # envVars:
    #   - key: DATABASE_URL
    #     fromDatabase:
    #       name: pensaconnect_db  # This should match your database name in Render
    #       property: connectionString